@model Project1Phase1.ViewModels.AddTransactionVM
@{
    ViewData["AddBill"] = "Add Bill";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@ViewData["AddBill"]</h2>

@{ 
    DateTime now = DateTime.Now;
}
       
<style>

    ul {
        list-style: none;
    }

</style>

    <form asp-action="HandleTransaction" method="post">
        <input type="text" name="name" />
        <label for="name">Name</label> <br />
        <select class="form-control" name="type">
            <option>Bill</option>
            <option>Payment</option>
        </select>
        <label for="type">Type</label> <br />
        <input type="hidden" value="@now" name="date"/>
        <input type="number" name="amount_total" />
        <label for="amount_total">Total Amount</label> <br />
        <input type="hidden" value="@Model.currentUser.RoommateId" name="sender_id" />
        <br>
        <label>Roommates:</label>
        @{ var counter = 0; }
        <ul>
            @foreach (var roommate in Model.otherRoommates)
            {
                <li>
                    <input type="checkbox" name="recievers" value="@roommate.RoommateId"/>
                    <label>@roommate.FirstName</label>
                </li>
                counter+= 1;
            }
        </ul>
        <input type="submit" />


    </form>

@*@foreach (var item in Model.ExportingGroups)
{
    <tr>
        <td class="js-export-checkbox">
            @Html.CheckBoxFor(modelItem => item.ToExport)
        </td>
    </tr>
}*@

    @*<div class="row">
        <div class="col-md-6">
            <h4>Frequency</h4>
            <hr />

            <form name="form" id="form" method="post" asp-action="AddBill">

                <input type="radio" id="radioButton1" name="radioButton" value="in-campus" />
                <label for="radioButton1">One Time</label>
                <br/>
                <input type="radio" id="radioButton2" name="radioButton" value="of-campus" />
                <label for="radioButton2">Recurring</label>

                <br/><br/>

                <select class="form-control" name="noOptions" id="noOptions" style="display: none">
                    <option value="Choose an Option" selected="selected">Choose One-Time or Recurring Option</option>
                </select>

                <select class="form-control" name="icOptions" id="icOptions" style="display: none">
                    <option value="Choose an Option" selected="selected">One-Time Payment</option>
                </select>

                <select class="form-control" name="ocOptions" id="ocOptions" style="display: none">
                    <option value="Choose an Option" selected="selected">Recurring</option>
                    <option value="ocOption1">Weekly</option>
                    <option value="ocOption2">Bi-Weekly</option>
                    <option value="ocOption1">Monthly</option>
                    <option value="ocOption2">Bi-Monthly</option>
                    <option value="ocOption1">Bi-Annually</option>
                    <option value="ocOption2">Annually</option>
                </select>

                <select class="form-control" name="allOptions" id="allOptions" style="display: block">
                    <option value="Choose an Option" selected="selected">Choose One-Time or Recurring Option</option>
                </select>
            </form>

            <script>
                window.document.getElementById("noOptions").style.display = "block";
                window.document.getElementById("allOptions").style.display = "none";
                function changeOptions() {
                    var form = window.document.getElementById("form");
                    var icOptions = window.document.getElementById("icOptions");
                    var ocOptions = window.document.getElementById("ocOptions");

                    window.document.getElementById("noOptions").style.display = "none";

                    if (form.radioButton1.checked) {
                        ocOptions.style.display = "none";
                        icOptions.style.display = "block";
                        icOptions.selectedIndex = 0;
                    } else if (form.radioButton2.checked) {
                        icOptions.style.display = "none";
                        ocOptions.style.display = "block";
                        ocOptions.selectedIndex = 0;
                    }

                }
                window.document.getElementById("radioButton1").onclick = changeOptions;
                window.document.getElementById("radioButton2").onclick = changeOptions;
            </script>
            <br />
        </div>
    </div>*@

    @*<div class="row">
        <div class="col-md-6">
            <h4>Amount</h4>
            <hr />
            <input class="form-control" type="number" min="0.00" max="10000.00" step="0.01" placeholder="200.00" align="middle" />
            <br />
        </div>
    </div>
    <br />

    <br />
    <button type="submit" class="btn btn-default" onclick="billAlert()">Create Bill</button>

    <script language="javascript" type="text/javascript">

        function billAlert() {
            alert("Are you sure all information about this bill is correct?");

            window.location.href = '/Home/ManageBills';
            
            //location.href = '....';
        }

    </script>*@

    @section Scripts {
        @await Html.PartialAsync("_ValidationScriptsPartial")
    }
